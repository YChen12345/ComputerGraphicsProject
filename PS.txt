Texture2D tex: register(t0);
SamplerState samplerLinear : register(s0);
struct PS_INPUT
{
 float4 Pos : SV_POSITION;
 float4 WORLDPOS : WP;
 float3 Normal : NORMAL;
 float3 Tangent : TANGENT;
 float2 TexCoords : TEXCOORD;
};
float4 PS(PS_INPUT input) : SV_Target0
{
	float3 LD = float3(0.0, 20.0, 5.0);
    float3 LightColor = float3(0.8, 0.8, 0.8);
    float3 AmbientColor = float3(0.3, 0.3, 0.3);
	float4 colour = tex.Sample(samplerLinear, input.TexCoords);
	float3 N = normalize(input.Normal);
    float3 L = normalize(LD-input.WORLDPOS.xyz);
    float diffuse = max(dot(N, L), 0.0);
    
    float3 finalColor = colour.rgb * (AmbientColor + LightColor * diffuse);
    return float4(finalColor, colour.a);
}